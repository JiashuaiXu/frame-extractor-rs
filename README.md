# è§†é¢‘æŠ½å¸§å·¥å…· (Frame Extractor)

ä¸€ä¸ªåŸºäº Tauri + Rust çš„è§†é¢‘æŠ½å¸§å·¥å…·ï¼Œå¯ä»¥ä» MP4 è§†é¢‘ä¸­æŒ‰é—´éš”æå–å¸§å¹¶ä¿å­˜ä¸ºå›¾ç‰‡ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¬ é€’å½’æŸ¥æ‰¾æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰ MP4 è§†é¢‘æ–‡ä»¶
- â±ï¸ å¯é…ç½®è·³è¿‡å¼€å¤´ç§’æ•°å’ŒæŠ½å¸§é—´éš”
- ğŸ“ æ”¯æŒä¿ç•™åŸå§‹å­ç›®å½•ç»“æ„
- ğŸ“‚ æ”¯æŒä¸ºæ¯ä¸ªè§†é¢‘åˆ›å»ºç‹¬ç«‹å­ç›®å½•
- ğŸ¨ ç°ä»£åŒ–çš„å›¾å½¢ç•Œé¢ï¼Œæ“ä½œç®€å•
- âš¡ åŸºäº Rust å’Œ FFmpegï¼Œæ€§èƒ½ä¼˜å¼‚

## ç³»ç»Ÿè¦æ±‚

- Windows / macOS / Linux
- **FFmpegï¼ˆå·²å†…åµŒæ‰“åŒ…ï¼Œç”¨æˆ·æ— éœ€å®‰è£…ï¼‰** âœ…

## å®‰è£…å’Œè¿è¡Œ

### å¼€å‘ç¯å¢ƒ

1. å®‰è£… Rust: https://www.rust-lang.org/tools/install
2. å®‰è£… Node.js: https://nodejs.org/
3. ä¸‹è½½ FFmpeg å¹¶æ”¾ç½®åˆ° `src-tauri/bin/` ç›®å½•ï¼ˆä»…å¼€å‘ç¯å¢ƒéœ€è¦ï¼‰
   - Windows: ä» https://github.com/BtbN/FFmpeg-Builds/releases ä¸‹è½½ `ffmpeg-master-latest-win64-gpl.zip`
   - è§£å‹åæ‰¾åˆ° `bin/ffmpeg.exe`ï¼Œå¤åˆ¶åˆ° `src-tauri/bin/ffmpeg.exe`
   - åŒæ—¶å¤åˆ¶ä¸º `src-tauri/bin/ffmpeg.exe-x86_64-pc-windows-msvc.exe`ï¼ˆTauri 2.0 è¦æ±‚ï¼‰
   - æˆ–è€…ç¡®ä¿ç³»ç»Ÿ PATH ä¸­æœ‰ `ffmpeg` å‘½ä»¤ï¼ˆå¼€å‘æ—¶ä½¿ç”¨ï¼‰

### å®‰è£…ä¾èµ–

```bash
# å®‰è£…å‰ç«¯ä¾èµ–
npm install

# Rust ä¾èµ–ä¼šè‡ªåŠ¨é€šè¿‡ cargo å®‰è£…
```

### è¿è¡Œå¼€å‘ç‰ˆæœ¬

```bash
npm run tauri dev
```

### æ„å»ºå‘å¸ƒç‰ˆæœ¬

```bash
npm run tauri build
```

æ„å»ºäº§ç‰©ä½äº `src-tauri/target/release/` ç›®å½•ã€‚

**è¯¦ç»†æ„å»ºè¯´æ˜**ï¼šè¯·æŸ¥çœ‹ [æ„å»ºæŒ‡å—](./docs/build-guide.md)

#### Windows æ„å»ºæ³¨æ„äº‹é¡¹

å¦‚æœé‡åˆ° WiX å·¥å…·ä¸‹è½½å¤±è´¥ï¼Œéœ€è¦æ‰‹åŠ¨é…ç½®ï¼š

1. ä¸‹è½½ `wix314-binaries.zip` ä» https://github.com/wixtoolset/wix3/releases
2. è¿è¡Œé…ç½®è„šæœ¬ï¼š
   ```powershell
   .\scripts\setup-wix.ps1
   ```
   æˆ–æ‰‹åŠ¨è§£å‹åˆ°ï¼š`%LOCALAPPDATA%\tauri\WixTools314\`

è¯¦ç»†è¯´æ˜è¯·å‚è€ƒ [æ„å»ºæŒ‡å— - WiX å·¥å…·é…ç½®](./docs/build-guide.md#wix-å·¥å…·é…ç½®)

## ä½¿ç”¨æ–¹æ³•

1. **é€‰æ‹©è¾“å…¥ç›®å½•**ï¼šç‚¹å‡»"æµè§ˆ"æŒ‰é’®ï¼Œé€‰æ‹©åŒ…å« MP4 è§†é¢‘æ–‡ä»¶çš„ç›®å½•
2. **é€‰æ‹©è¾“å‡ºç›®å½•**ï¼šç‚¹å‡»"æµè§ˆ"æŒ‰é’®ï¼Œé€‰æ‹©ä¿å­˜æå–å›¾ç‰‡çš„ç›®å½•
3. **é…ç½®æŠ½å¸§å‚æ•°**ï¼š
   - è·³è¿‡å¼€å¤´ï¼ˆç§’ï¼‰ï¼šè·³è¿‡è§†é¢‘å¼€å¤´çš„ç§’æ•°
   - æŠ½å¸§é—´éš”ï¼ˆç§’ï¼‰ï¼šæ¯éš”å¤šå°‘ç§’æå–ä¸€å¸§
4. **ç›®å½•é€‰é¡¹**ï¼š
   - ä¿ç•™åŸå§‹å­ç›®å½•ç»“æ„ï¼šè¾“å‡ºç›®å½•ä¼šä¿æŒä¸è¾“å…¥ç›®å½•ç›¸åŒçš„å­ç›®å½•ç»“æ„
   - ä¸ºæ¯ä¸ªè§†é¢‘åˆ›å»ºç‹¬ç«‹å­ç›®å½•ï¼šæ¯ä¸ªè§†é¢‘ä¼šåœ¨è¾“å‡ºç›®å½•ä¸‹åˆ›å»ºè‡ªå·±çš„æ–‡ä»¶å¤¹
5. **å¼€å§‹å¤„ç†**ï¼šç‚¹å‡»"å¼€å§‹å¤„ç†"æŒ‰é’®ï¼Œç­‰å¾…å¤„ç†å®Œæˆ

## æŠ€æœ¯æ ˆ

- **å‰ç«¯**: HTML + CSS + JavaScript (åŸç”Ÿ)
- **åç«¯**: Rust
- **æ¡†æ¶**: Tauri 2.0
- **è§†é¢‘å¤„ç†**: FFmpeg å‘½ä»¤è¡Œå·¥å…·ï¼ˆå†…åµŒæ‰“åŒ…ï¼‰

## é¡¹ç›®ç»“æ„

```
frame-extractor-rs/
â”œâ”€â”€ src-tauri/          # Rust åç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.rs     # Tauri ä¸»å…¥å£
â”‚   â”‚   â””â”€â”€ extractor.rs # æŠ½å¸§æ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ Cargo.toml      # Rust ä¾èµ–é…ç½®
â”‚   â””â”€â”€ tauri.conf.json # Tauri é…ç½®
â”œâ”€â”€ index.html          # å‰ç«¯ HTML
â”œâ”€â”€ style.css           # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ main.js             # å‰ç«¯é€»è¾‘
â”œâ”€â”€ package.json        # Node.js ä¾èµ–
â””â”€â”€ vite.config.js      # Vite é…ç½®
```

## æ³¨æ„äº‹é¡¹

- âœ… **FFmpeg å·²å†…åµŒæ‰“åŒ…**ï¼šå‘å¸ƒç‰ˆæœ¬å·²åŒ…å« FFmpegï¼Œç”¨æˆ·æ— éœ€å•ç‹¬å®‰è£…
- å¤„ç†å¤§é‡è§†é¢‘æ—¶å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…
- è¾“å‡ºç›®å½•ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œæ— éœ€æ‰‹åŠ¨åˆ›å»º

## æ–‡æ¡£

### å¼€å‘æ–‡æ¡£
- [æ„å»ºæŒ‡å—](./docs/build-guide.md) - è¯¦ç»†çš„æ„å»ºé…ç½®å’Œé—®é¢˜è§£å†³
- [æ„å»ºæµç¨‹åˆ†æ](./docs/build-process-analysis.md) - å®Œæ•´çš„æ„å»ºæµç¨‹å’Œå®‰è£…åŒ…è¯´æ˜
- [Bug è®°å½•](./docs/bugs/) - é¡¹ç›®å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### çŸ¥è¯†åº“
- [é¡¹ç›®çŸ¥è¯†åº“](./knowledge/) - æŠ€æœ¯çŸ¥è¯†ç‚¹å’Œå­¦ä¹ èµ„æ–™
  - [é¡¹ç›®æ¶æ„](./knowledge/architecture.md) - æ•´ä½“æ¶æ„è®¾è®¡
  - [æ„å»ºç³»ç»Ÿ](./knowledge/build-system.md) - å‰åç«¯ç¼–è¯‘æµç¨‹
  - [å‰ç«¯æŠ€æœ¯](./knowledge/frontend.md) - å‰ç«¯æŠ€æœ¯æ ˆ
  - [åç«¯æŠ€æœ¯](./knowledge/backend.md) - Rust åç«¯å¼€å‘
  - [Rust åŸºç¡€åº“](./knowledge/rust-basics.md) - æ ‡å‡†åº“å’Œæ ¸å¿ƒæ¦‚å¿µ
  - [Rust ä¾èµ–åº“](./knowledge/rust-dependencies.md) - ç¬¬ä¸‰æ–¹ä¾èµ–è¯¦è§£
  - [Tauri æ¡†æ¶](./knowledge/tauri-framework.md) - Tauri 2.0 è¯¦è§£
  - [FFmpeg é›†æˆ](./knowledge/ffmpeg-integration.md) - FFmpeg é›†æˆæ–¹æ¡ˆ

## è®¸å¯è¯

MIT License

